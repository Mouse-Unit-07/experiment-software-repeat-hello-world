#--------------------------------- FILE INFO ----------------------------------#
# Filename           : CMakeLists.txt                                          #
#                                                                              #
# CMakeLists.txt file for repeat_hello_world test files                        #
#                                                                              #
#------------------------------------------------------------------------------#
# \/=== Add all test and associated tested source files
set(LOCAL_TEST_SOURCES
    ${CMAKE_CURRENT_SOURCE_DIR}/test_repeat_hello_world.cpp
    ${CMAKE_SOURCE_DIR}/src/repeat_hello_world/repeat_hello_world.c
    ${CMAKE_CURRENT_SOURCE_DIR}/mocks/hello_world/mock_print_hello_world.c
)

set(ALL_TEST_SOURCES
    ${ALL_TEST_SOURCES}
    ${LOCAL_TEST_SOURCES}
    PARENT_SCOPE
)

add_executable(test_repeat_hello_world # <=== Define your test target
    ${LOCAL_TEST_SOURCES}
    ${CMAKE_SOURCE_DIR}/tests/test_main.cpp
)

target_include_directories(test_repeat_hello_world PRIVATE # <=== Rename to your test target
    ${CMAKE_SOURCE_DIR}/src
)

target_link_libraries(test_repeat_hello_world PRIVATE # <=== Rename to your test target
    repeat_hello_world_lib # <== Rename to your build target
    CppUTest
    CppUTestExt
)

add_test(NAME test_repeat_hello_world COMMAND test_repeat_hello_world) # <=== Rename to your test target
